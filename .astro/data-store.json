[
  ["Map", 1, 2, 7, 8],
  "meta::meta",
  ["Map", 3, 4, 5, 6],
  "astro-version",
  "4.16.3",
  "config-digest",
  "bfecd9c9dfbc58a5",
  "blog",
  ["Map", 9, 10],
  "rust-zip-unarchiver",
  {
    "id": 9,
    "data": 11,
    "body": 23,
    "filePath": 24,
    "digest": 25,
    "rendered": 26
  },
  {
    "author": 12,
    "pubDatetime": 13,
    "modDatetime": 14,
    "title": 15,
    "featured": 16,
    "draft": 17,
    "tags": 18,
    "description": 22
  },
  "Alexey Ermolaev",
  ["Date", "2024-11-14T15:22:00.000Z"],
  ["Date", "2024-11-14T15:22:00.000Z"],
  "Implementing ZIP unarchiver in Rust",
  true,
  false,
  [19, 20, 21],
  "rust",
  "zip",
  "compression",
  "A quick overview of a ZIP unarchiver tool written in Rust just for fun.",
  "Recently, I came across the idea of implementing a universal unarchiver written in Rust. Why exactly? Well, because for my projects where I had to unpack various data sources and some of it where `.zip` archives while the other could be `.tar` or `.tar.gz` or whatever else. \n\nOf course, I already almost remembered all the syntax like\n\n`7z x archive.7z` or maybe `unzip archive.zip` but it was annoying. Partially, because some of the toold were not installed in Ubuntu by default and I had to do it manually.\n\nThe original idea was to create a universal unarchiver which support various archive formats. Quite quickly I gave up on this idea as it was too much of work for a simple excercise. So, I ended up implementing for the `ZIP` archives.\n\nMy original plan was:\n- Check out the ZIP format specification\n- Start implementing it in Rust just in the `main.rs` function for simplicity as I knew I had to deal with byte manipulation quite a lot\n- Once logic is ready, test it for archive with a single file and later with multi-file archive\n- Cover with the tests\n\nSounds like a fun, let's start.\n\n\n## ZIP format specification\n\nA ZIP file consists of the following logic parts:\n\n```\n[Local File Header 1]\n[File Data 1]\n[Local File Header 2]\n[File Data 2]\n...\n[Local File Header n]\n[File Data n]\n[Central Directory]\n[End of Central Directory]\n```\n\n### 1. Local File Header\nLocated immediately before each file's data.\n```\nSignature: 0x04034b50 (4 bytes, little-endian)\nVersion needed to extract (2 bytes)\nGeneral purpose bit flag (2 bytes)\nCompression method (2 bytes)\n\n0 = no compression\n8 = deflate\n\n\nLast mod file time (2 bytes)\nLast mod file date (2 bytes)\nCRC-32 (4 bytes)\nCompressed size (4 bytes)\nUncompressed size (4 bytes)\nFilename length (2 bytes)\nExtra field length (2 bytes)\nFilename (variable size)\nExtra field (variable size)\n\nTotal fixed-length portion: 30 bytes.\n```\n\n### 2. File Data\n\nCompressed or stored data immediately follows its local header. Size is specified in the local header's compressed size field. Compression method specified in local header determines format.\n\n### 3. Central Directory\nContains entries for each file in the archive. Located after all file data.\n\nCentral Directory Header\n\n```\nSignature: 0x02014b50 (4 bytes, little-endian)\nVersion made by (2 bytes)\nVersion needed to extract (2 bytes)\nGeneral purpose bit flag (2 bytes)\nCompression method (2 bytes)\nLast mod file time (2 bytes)\nLast mod file date (2 bytes)\nCRC-32 (4 bytes)\nCompressed size (4 bytes)\nUncompressed size (4 bytes)\nFilename length (2 bytes)\nExtra field length (2 bytes)\nFile comment length (2 bytes)\nDisk number start (2 bytes)\nInternal file attributes (2 bytes)\nExternal file attributes (4 bytes)\nRelative offset of local header (4 bytes)\nFilename (variable size)\nExtra field (variable size)\nFile comment (variable size)\n\nTotal fixed-length portion: 46 bytes\n```\n\n### 4. End of Central Directory\nAlways located at the end of the ZIP file.\n\n```\nSignature: 0x06054b50 (4 bytes, little-endian)\nNumber of this disk (2 bytes)\nDisk where central directory starts (2 bytes)\nNumber of central directory records on this disk (2 bytes)\nTotal number of central directory records (2 bytes)\nSize of central directory (4 bytes)\nOffset of start of central directory (4 bytes)\nComment length (2 bytes)\nComment (variable size)\n\nTotal fixed-length portion: 22 bytes\n```\n\nGiven that format, I was thinking of:\n\n- Finding end of the central directory\n- Get central directory offset from there\n- Read central directory, skip metadata I don't need and collect files metadata\n- Read all the files data and extract + decompress\n\n## Reading end of the central directory\n\nI came up with pretty straightforward logic\n\n```rust\nfn read_end_central_dir(path: &str) -> io::Result\u003COption\u003Cu64>> {\n    let mut f: File = File::open(path)?;\n\n    f.seek(SeekFrom::End(0))?;\n    let file_size: u64 = f.stream_position()?;\n    eprintln!(\"File size: {} bytes\", file_size);\n\n    // as we need to check the last 1024\n    let search_size: u64 = min(1024, file_size);\n    f.seek(SeekFrom::End(-(search_size as i64)))?;\n    let mut buf: Vec\u003Cu8> = vec![0; search_size as usize];\n    f.read_exact(&mut buf)?;\n\n    let signature_bytes: [u8; 4] = END_CENTRAL_DIR_SIGNATURE.to_le_bytes();\n\n    let mut signature_position: i64 = -1;\n\n    for i in (0..buf.len().saturating_sub(4)).rev() {\n        if buf[i..i + 4] == signature_bytes {\n            signature_position = i as i64;\n            break;\n        }\n    }\n\n    if signature_position == -1 {\n        eprintln!(\"Signature not found!\");\n        return Ok(None);\n    }\n\n    // Read the record bytes and print them before parsing\n    let pos: usize = signature_position as usize;\n    let record_bytes: &[u8] = &buf[pos + 4..pos + 22]; // 18 bytes after signature\n\n    let end_central_dir: EndCentralDirectory = EndCentralDirectory {\n        dir_offset: u32::from_le_bytes(record_bytes[12..16].try_into().unwrap()),\n    };\n\n    Ok(Some(end_central_dir.dir_offset as u64))\n}\n```\n\nWe now have `dir_offset` which can be used later to read the central directory.\n\n## Reading the central directory\n\n```rust\nfn read_central_directory(\n    path: &str,\n    offset: Option\u003Cu64>,\n) -> io::Result\u003COption\u003CVec\u003CZipFileEntry>>> {\n    let mut f: File = File::open(path)?;\n    let mut file_entries: Vec\u003CZipFileEntry> = vec![];\n    let mut current_offset: u64 = offset.unwrap();\n\n    loop {\n        f.seek(SeekFrom::Start(current_offset))?;\n\n        // Read signature\n        let mut buf: [u8; 4] = [0u8; 4];\n        match f.read_exact(&mut buf) {\n            Ok(_) => {\n                if buf != CENTRAL_DIR_SIGNATURE.to_le_bytes() {\n                    break;\n                }\n            }\n            Err(_) => break,\n        }\n\n        // Skip version made by (2), version needed (2), flags (2)\n        f.seek(SeekFrom::Current(6))?;\n\n        // Read compression method\n        let mut compression_method_buf = [0u8; 2];\n        f.read_exact(&mut compression_method_buf)?;\n        let compression_method = u16::from_le_bytes(compression_method_buf);\n\n        // Skip last mod time (2), last mod date (2), CRC32 (4)\n        f.seek(SeekFrom::Current(8))?;\n\n        // Read sizes\n        let mut compressions_buf: [u8; 8] = [0u8; 8];\n        f.read_exact(&mut compressions_buf)?;\n        let compressed_size: u32 = u32::from_le_bytes(compressions_buf[0..4].try_into().unwrap());\n        let uncompressed_size: u32 = u32::from_le_bytes(compressions_buf[4..8].try_into().unwrap());\n\n        // Read lengths\n        let mut lengths_buf: [u8; 6] = [0u8; 6];\n        f.read_exact(&mut lengths_buf)?;\n        let filename_length: u16 = u16::from_le_bytes(lengths_buf[0..2].try_into().unwrap());\n        let extra_length: u16 = u16::from_le_bytes(lengths_buf[2..4].try_into().unwrap());\n        let comment_length: u16 = u16::from_le_bytes(lengths_buf[4..6].try_into().unwrap());\n\n        // Skip to local header offset\n        f.seek(SeekFrom::Current(8))?;\n\n        // Read local header offset\n        let mut offset_buf: [u8; 4] = [0u8; 4];\n        f.read_exact(&mut offset_buf)?;\n        let file_offset: u32 = u32::from_le_bytes(offset_buf);\n\n        // Read filename\n        let mut filename_buf: Vec\u003Cu8> = vec![0u8; filename_length as usize];\n        f.read_exact(&mut filename_buf)?;\n        let filename: String =\n            String::from_utf8(filename_buf).map_err(|e: std::string::FromUtf8Error| {\n                std::io::Error::new(std::io::ErrorKind::InvalidData, e)\n            })?;\n\n        file_entries.push(ZipFileEntry {\n            filename,\n            compressed_size,\n            uncompressed_size,\n            compression_method,\n            file_offset,\n        });\n        // Skip extra field and comment\n        f.seek(SeekFrom::Current((extra_length + comment_length) as i64))?;\n        current_offset = f.stream_position()?;\n    }\n    eprintln!(\"file_entries: {:?}\", file_entries);\n\n    Ok(Some(file_entries))\n}\n```\n\nHere, we start reading from the beginning of the central directory, skipping on the way what's not needed and then we read files metadata in the `loop {}`.\n\n## Extraction of files\n\nThe simplest here\n\n```rust\nfn extract_file(\n    path: &str,\n    entry: &ZipFileEntry,\n    path_to_unpack: &str,\n) -> io::Result\u003COption\u003CVec\u003Cu8>>> {\n    eprintln!(\"Starting extract_file with:\");\n    eprintln!(\"  filename: {}\", entry.filename);\n\n    let mut f: File = File::open(path)?;\n    f.seek(SeekFrom::Start(entry.file_offset as u64))?;\n\n    // Read and verify local file header\n    let mut local_header: [u8; 30] = [0u8; 30];\n    f.read_exact(&mut local_header)?;\n\n    // Check signature\n    if local_header[0..4] != LOCAL_FILE_HEADER_SIGNATURE.to_le_bytes() {\n        eprintln!(\"Invalid local file header signature\");\n        return Ok(None);\n    }\n\n    let local_name_length: u16 = u16::from_le_bytes(local_header[26..28].try_into().unwrap());\n    let local_extra_length: u16 = u16::from_le_bytes(local_header[28..30].try_into().unwrap());\n\n    // Skip variable length fields\n    f.seek(SeekFrom::Current(\n        (local_name_length + local_extra_length) as i64,\n    ))?;\n\n    // Read compressed data\n    let mut compressed_data_buf: Vec\u003Cu8> = vec![0u8; entry.compressed_size as usize];\n    f.read_exact(&mut compressed_data_buf)?;\n\n    match entry.compression_method {\n        0 => {\n            eprintln!(\"No compression, returning raw data\");\n            Ok(Some(compressed_data_buf))\n        }\n        8 => {\n            eprintln!(\"Using Deflate decompression\");\n            eprintln!(\"Compressed size: {}\", compressed_data_buf.len());\n\n            use flate2::read::DeflateDecoder;\n            use std::io::Read;\n\n            let mut decoder: DeflateDecoder\u003C&[u8]> = DeflateDecoder::new(&compressed_data_buf[..]);\n            let mut decompressed_data: Vec\u003Cu8> =\n                Vec::with_capacity(entry.uncompressed_size as usize);\n\n            match decoder.read_to_end(&mut decompressed_data) {\n                Ok(size) => {\n                    eprintln!(\"Successfully decompressed {} bytes\", size);\n                    if size != entry.uncompressed_size as usize {\n                        eprintln!(\n                            \"Warning: Decompressed size {} differs from expected {}\",\n                            size, entry.uncompressed_size\n                        );\n                    }\n                    let folder_path: &Path = Path::new(&path_to_unpack);\n                    let full_path: String = format!(\"{}{}\", path_to_unpack, entry.filename);\n                    let path: &Path = Path::new(&full_path);\n\n                    match folder_path.exists() {\n                        true => {\n                            let mut file: File = File::create(path)?;\n                            file.write_all(&decompressed_data)?;\n                            file.flush()?;\n\n                            eprintln!(\"Successfully saved file to {}\", full_path);\n\n                            Ok(Some(decompressed_data))\n                        }\n                        false => {\n                            eprintln!(\"FAIL: Output path doesnt exist: {:?}\", path_to_unpack);\n                            Err(std::io::Error::new(\n                                std::io::ErrorKind::InvalidData,\n                                \"Output path doesnt exist\",\n                            ))\n                        }\n                    }\n                }\n                Err(e) => {\n                    eprintln!(\"Decompression error: {}\", e);\n                    eprintln!(\"Full compressed data: {:02X?}\", compressed_data_buf);\n                    Err(std::io::Error::new(std::io::ErrorKind::InvalidData, e))\n                }\n            }\n        }\n        _ => {\n            eprintln!(\n                \"Unsupported compression method: {}\",\n                entry.compression_method\n            );\n            Ok(None)\n        }\n    }\n}\n```\nThat's pretty much it. The whole code is accessible [here](https://github.com/ermolushka/xpack)\n\n",
  "src/content/blog/rust-zip-unarchiver.md",
  "f744bc13886b4ab0",
  { "html": 27, "metadata": 28 },
  "\u003Cp>Recently, I came across the idea of implementing a universal unarchiver written in Rust. Why exactly? Well, because for my projects where I had to unpack various data sources and some of it where \u003Ccode>.zip\u003C/code> archives while the other could be \u003Ccode>.tar\u003C/code> or \u003Ccode>.tar.gz\u003C/code> or whatever else.\u003C/p>\n\u003Cp>Of course, I already almost remembered all the syntax like\u003C/p>\n\u003Cp>\u003Ccode>7z x archive.7z\u003C/code> or maybe \u003Ccode>unzip archive.zip\u003C/code> but it was annoying. Partially, because some of the toold were not installed in Ubuntu by default and I had to do it manually.\u003C/p>\n\u003Cp>The original idea was to create a universal unarchiver which support various archive formats. Quite quickly I gave up on this idea as it was too much of work for a simple excercise. So, I ended up implementing for the \u003Ccode>ZIP\u003C/code> archives.\u003C/p>\n\u003Cp>My original plan was:\u003C/p>\n\u003Cul>\n\u003Cli>Check out the ZIP format specification\u003C/li>\n\u003Cli>Start implementing it in Rust just in the \u003Ccode>main.rs\u003C/code> function for simplicity as I knew I had to deal with byte manipulation quite a lot\u003C/li>\n\u003Cli>Once logic is ready, test it for archive with a single file and later with multi-file archive\u003C/li>\n\u003Cli>Cover with the tests\u003C/li>\n\u003C/ul>\n\u003Cp>Sounds like a fun, let’s start.\u003C/p>\n\u003Ch2 id=\"zip-format-specification\">ZIP format specification\u003C/h2>\n\u003Cp>A ZIP file consists of the following logic parts:\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>[Local File Header 1]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[File Data 1]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[Local File Header 2]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[File Data 2]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>...\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[Local File Header n]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[File Data n]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[Central Directory]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>[End of Central Directory]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"1-local-file-header\">1. Local File Header\u003C/h3>\n\u003Cp>Located immediately before each file’s data.\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Signature: 0x04034b50 (4 bytes, little-endian)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Version needed to extract (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>General purpose bit flag (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Compression method (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>0 = no compression\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>8 = deflate\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Last mod file time (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Last mod file date (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>CRC-32 (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Compressed size (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Uncompressed size (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Filename length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Extra field length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Filename (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Extra field (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Total fixed-length portion: 30 bytes.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-file-data\">2. File Data\u003C/h3>\n\u003Cp>Compressed or stored data immediately follows its local header. Size is specified in the local header’s compressed size field. Compression method specified in local header determines format.\u003C/p>\n\u003Ch3 id=\"3-central-directory\">3. Central Directory\u003C/h3>\n\u003Cp>Contains entries for each file in the archive. Located after all file data.\u003C/p>\n\u003Cp>Central Directory Header\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Signature: 0x02014b50 (4 bytes, little-endian)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Version made by (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Version needed to extract (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>General purpose bit flag (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Compression method (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Last mod file time (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Last mod file date (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>CRC-32 (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Compressed size (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Uncompressed size (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Filename length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Extra field length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>File comment length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Disk number start (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Internal file attributes (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>External file attributes (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Relative offset of local header (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Filename (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Extra field (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>File comment (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Total fixed-length portion: 46 bytes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"4-end-of-central-directory\">4. End of Central Directory\u003C/h3>\n\u003Cp>Always located at the end of the ZIP file.\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>Signature: 0x06054b50 (4 bytes, little-endian)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Number of this disk (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Disk where central directory starts (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Number of central directory records on this disk (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Total number of central directory records (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Size of central directory (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Offset of start of central directory (4 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Comment length (2 bytes)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Comment (variable size)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Total fixed-length portion: 22 bytes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Given that format, I was thinking of:\u003C/p>\n\u003Cul>\n\u003Cli>Finding end of the central directory\u003C/li>\n\u003Cli>Get central directory offset from there\u003C/li>\n\u003Cli>Read central directory, skip metadata I don’t need and collect files metadata\u003C/li>\n\u003Cli>Read all the files data and extract + decompress\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"reading-end-of-the-central-directory\">Reading end of the central directory\u003C/h2>\n\u003Cp>I came up with pretty straightforward logic\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"rust\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">fn\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> read_end_central_dir\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">str\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">->\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Result\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Option\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">>> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">open\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">End\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> file_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u64\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">stream_position\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">File size: {} bytes\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">file_size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> as we need to check the last 1024\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> search_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u64\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> min\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">1024\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">file_size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">End\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">-\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">search_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> i64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> vec!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">search_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> signature_bytes\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#82AAFF\"> END_CENTRAL_DIR_SIGNATURE\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">to_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> signature_position\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> i64\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> -\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">    for\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> i\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> in\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> (\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">len\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">saturating_sub\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">rev\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">        if\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">i\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">i\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> +\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\"> 4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">==\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> signature_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            signature_position\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> i\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> i64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">            break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">    if\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> signature_position\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> ==\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> -\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">1\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">        eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Signature not found!\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">        return\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">None\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read the record bytes and print them before parsing\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> pos\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> signature_position\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> record_bytes\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">pos\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> +\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\"> 4\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">pos\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> +\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\"> 22\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]; \u003C/span>\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">//\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> 18 bytes after signature\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> end_central_dir\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> EndCentralDirectory\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> EndCentralDirectory\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        dir_offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">record_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">12\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">16\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">    Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Some\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">end_central_dir\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">dir_offset \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>We now have \u003Ccode>dir_offset\u003C/code> which can be used later to read the central directory.\u003C/p>\n\u003Ch2 id=\"reading-the-central-directory\">Reading the central directory\u003C/h2>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"rust\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">fn\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> read_central_directory\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">str\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Option\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">>,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">->\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Result\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Option\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">ZipFileEntry\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">>>> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">open\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> file_entries\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">ZipFileEntry\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> vec!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> current_offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u64\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">    loop\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Start\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">current_offset\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read signature\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">        match\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">            Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">_\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">=>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">                if\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> !=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#82AAFF\"> CENTRAL_DIR_SIGNATURE\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">to_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">                    break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">            Err\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">_\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">=>\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> break\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Skip version made by (2), version needed (2), flags (2)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Current\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read compression method\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compression_method_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compression_method_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compression_method\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compression_method_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Skip last mod time (2), last mod date (2), CRC32 (4)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Current\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read sizes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compressions_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compressions_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compressed_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressions_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> uncompressed_size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressions_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read lengths\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> lengths_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> lengths_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> filename_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">lengths_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> extra_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">lengths_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">2\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> comment_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">lengths_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">6\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Skip to local header offset\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Current\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read local header offset\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> offset_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> offset_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> file_offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u32\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">offset_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read filename\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> filename_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> vec!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">filename_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> filename_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">        let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> filename\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> String\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">            String\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_utf8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">filename_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">map_err\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">|\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">e\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">string\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">FromUtf8Error\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">|\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">Error\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">ErrorKind\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">InvalidData\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">e\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">            })\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        file_entries\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">push\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">ZipFileEntry\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            filename\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            compressed_size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            uncompressed_size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            compression_method\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">            file_offset\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">        //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Skip extra field and comment\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Current\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">((\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">extra_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> +\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> comment_length\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> i64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        current_offset\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">stream_position\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">file_entries: {:?}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">file_entries\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">    Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Some\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">file_entries\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Here, we start reading from the beginning of the central directory, skipping on the way what’s not needed and then we read files metadata in the \u003Ccode>loop {}\u003C/code>.\u003C/p>\n\u003Ch2 id=\"extraction-of-files\">Extraction of files\u003C/h2>\n\u003Cp>The simplest here\u003C/p>\n\u003Cpre class=\"astro-code astro-code-themes min-light night-owl\" style=\"background-color:#ffffff;--shiki-dark-bg:#011627;color:#24292eff;--shiki-dark:#d6deeb; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;\" tabindex=\"0\" data-language=\"rust\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">fn\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> extract_file\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">str\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">ZipFileEntry\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    path_to_unpack\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">str\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">->\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Result\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Option\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">>>> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Starting extract_file with:\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">  filename: {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">filename);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">open\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Start\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">file_offset \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read and verify local file header\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_header\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> [\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_header\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Check signature\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">    if\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_header\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">4\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">] \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">!=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#82AAFF\"> LOCAL_FILE_HEADER_SIGNATURE\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">to_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">        eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Invalid local file header signature\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">        return\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">None\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_name_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">local_header\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">26\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">28\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_extra_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> u16\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">from_le_bytes\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">local_header\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">28\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">30\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">try_into\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">unwrap\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Skip variable length fields\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">seek\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(SeekFrom\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">Current\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        (\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">local_name_length\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> +\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> local_extra_length\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> i64\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    ))\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#C2C3C5;--shiki-dark:#637777\">    //\u003C/span>\u003Cspan style=\"color:#C2C3C5;font-style:inherit;--shiki-dark:#637777;--shiki-dark-font-style:italic\"> Read compressed data\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">    let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compressed_data_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> vec!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">0\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#F78C6C\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">; \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">compressed_size \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">    f\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_exact\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> compressed_data_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">    match\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">compression_method {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">        0\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> =>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">No compression, returning raw data\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">            Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Some\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressed_data_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#F78C6C\">        8\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> =>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Using Deflate decompression\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Compressed size: {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressed_data_buf\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">len\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">());\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">            use\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> flate2\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">read\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">DeflateDecoder\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">            use\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Read\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">            let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> decoder\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> DeflateDecoder\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> DeflateDecoder\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressed_data_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">[\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">..\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">            let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> decompressed_data\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Vec\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">&#x3C;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">u8\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">> \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">=\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                Vec\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">with_capacity\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">uncompressed_size \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">            match\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> decoder\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">read_to_end\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> decompressed_data\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">=>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Successfully decompressed {} bytes\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">                    if\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> size\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> !=\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">uncompressed_size \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">as\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> usize\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                        eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">                            \"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Warning: Decompressed size {} differs from expected {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">                            size\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">uncompressed_size\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                        );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">                    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> folder_path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path_to_unpack\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">                    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> full_path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> String\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\"> format!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">{}{}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path_to_unpack\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">filename);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">                    let\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> &#x26;\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> Path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">full_path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\">                    match\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> folder_path\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">exists\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#82AAFF\">                        true\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> =>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\">                            let\u003C/span>\u003Cspan style=\"color:#D32F2F;font-style:inherit;--shiki-dark:#C792EA;--shiki-dark-font-style:italic\"> mut\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\"> file\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">:\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#C792EA\"> =\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\"> File\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">create\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">                            file\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">write_all\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">&#x26;\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">decompressed_data\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">                            file\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">flush\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">()\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">?\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Successfully saved file to {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">full_path\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                            Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Some\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">decompressed_data\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#1976D2;--shiki-dark:#82AAFF\">                        false\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> =>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">FAIL: Output path doesnt exist: {:?}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">path_to_unpack\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                            Err\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Error\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                                std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">ErrorKind\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">InvalidData\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">                                \"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Output path doesnt exist\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                            ))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                Err\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">e\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">) \u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">=>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Decompression error: {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">e\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">                    eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Full compressed data: {:02X?}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">compressed_data_buf\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">                    Err\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">Error\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">new\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(std\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">io\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">ErrorKind\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">::\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">InvalidData\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">, \u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">e\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">        _\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\"> =>\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;font-style:inherit;--shiki-dark:#82AAFF;--shiki-dark-font-style:italic\">            eprintln!\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">                \"\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#ECC48D\">Unsupported compression method: {}\u003C/span>\u003Cspan style=\"color:#22863A;--shiki-dark:#D9F5DD\">\"\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#C5E478\">                entry\u003C/span>\u003Cspan style=\"color:#D32F2F;--shiki-dark:#7FDBCA\">.\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">compression_method\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">            );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">            Ok\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">(\u003C/span>\u003Cspan style=\"color:#6F42C1;--shiki-dark:#D6DEEB\">None\u003C/span>\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#24292EFF;--shiki-dark:#D6DEEB\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>That’s pretty much it. The whole code is accessible \u003Ca href=\"https://github.com/ermolushka/xpack\">here\u003C/a>\u003C/p>",
  { "headings": 29, "imagePaths": 56, "frontmatter": 11 },
  [30, 34, 38, 41, 44, 47, 50, 53],
  { "depth": 31, "slug": 32, "text": 33 },
  2,
  "zip-format-specification",
  "ZIP format specification",
  { "depth": 35, "slug": 36, "text": 37 },
  3,
  "1-local-file-header",
  "1. Local File Header",
  { "depth": 35, "slug": 39, "text": 40 },
  "2-file-data",
  "2. File Data",
  { "depth": 35, "slug": 42, "text": 43 },
  "3-central-directory",
  "3. Central Directory",
  { "depth": 35, "slug": 45, "text": 46 },
  "4-end-of-central-directory",
  "4. End of Central Directory",
  { "depth": 31, "slug": 48, "text": 49 },
  "reading-end-of-the-central-directory",
  "Reading end of the central directory",
  { "depth": 31, "slug": 51, "text": 52 },
  "reading-the-central-directory",
  "Reading the central directory",
  { "depth": 31, "slug": 54, "text": 55 },
  "extraction-of-files",
  "Extraction of files",
  []
]
